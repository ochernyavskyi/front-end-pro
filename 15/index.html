<script>

    function Student(name, surname, year) {
        this.name = name;
        this.surname = surname;
        this.year = year;
        this.presentArray = [];
        this.scoreArray = [];
    }


    Student.prototype = {
        constructor: Student.prototype.constructor,

        get age() {
            return (new Date).getFullYear() - this.year;
        },

        get present() {
            if (this.presentArray.length == 30) {
                throw new Error('The maximum amount of  records reached ')
            }
            let i = 0;
            while (typeof this.presentArray[i] == 'boolean') {
                i++;
            }
            this.presentArray[i] = true;
        },

        get absent() {
            if (this.presentArray.length == 30) {
                throw new Error('The maximum amount of  records reached ')
            }
            let i = 0;
            while (typeof this.presentArray[i] == 'boolean') {
                i++;
            }
            this.presentArray[i] = false;
        },

        mark: function (value) {
            if (this.scoreArray.length == 30) {
                throw new Error('The maximum amount of  records reached ')
            }
            let i = 0;
            while (typeof this.scoreArray[i] == 'number') {
                i++;
            }
            this.scoreArray[i] = value;
        },

        get summary() {
            const notice = {
                good: 'Ути какой молодчинка',
                norm: 'Норм, но можно лучше',
                bad: 'Редиска'
            }
            let avrMark = 0;
            avrMark = this.scoreArray.reduce((sum, current) => sum + current, 0) / this.scoreArray.length;
            let avrPresent = 0;
            avrPresent = this.presentArray.reduce((sum, current) => sum + current, 0) / this.presentArray.length;
            if (avrMark > 9 && avrPresent > 0.9) {
                return notice.good;
            } else if (avrMark < 9 && avrPresent < 0.9) {
                return notice.bad;
            } else if (avrMark < 9 || avrPresent < 0.9)
                return notice.norm;
        }
    }

    //     const ivan = new Student('ivan', 'ivanov', 1980);
    //     const pavel = new Student('pavel', 'bykov', 1985);
    // console.log(ivan);
    // console.log(pavel);
    // console.log(ivan.age);
    // console.log(pavel.age);
    //
    // ivan.present;
    // ivan.present;
    // ivan.present;
    // ivan.present;
    //
    // pavel.absent;
    // pavel.absent;
    // pavel.absent;
    // pavel.absent;
    // pavel.absent;
    // pavel.present;
    //
    // ivan.mark(10);
    // ivan.mark(10);
    // ivan.mark(10);
    // ivan.mark(10);
    // ivan.mark(9);
    //
    // pavel.mark(7);
    // pavel.mark(7);
    // pavel.mark(7);
    // pavel.mark(7);
    //
    // console.log(ivan.summary);
    console.log(pavel.summary);

</script>